<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>fl.int.Union</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library fl.int.Union</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="fl.cfg.Base.html#"><span class="id" title="library">fl.cfg.Base</span></a> <a class="idref" href="fl.cfg.Definitions.html#"><span class="id" title="library">fl.cfg.Definitions</span></a> <a class="idref" href="fl.cfg.Binarize.html#"><span class="id" title="library">fl.cfg.Binarize</span></a> <a class="idref" href="fl.cfg.Chomsky.html#"><span class="id" title="library">fl.cfg.Chomsky</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="fl.int.Base2.html#"><span class="id" title="library">fl.int.Base2</span></a> <a class="idref" href="fl.int.DFA.html#"><span class="id" title="library">fl.int.DFA</span></a> <a class="idref" href="fl.int.ChomskyInduction.html#"><span class="id" title="library">fl.int.ChomskyInduction</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="Union"><span class="id" title="module">Union</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span> <span class="id" title="var">Definitions</span> <span class="id" title="var">Derivation</span> <span class="id" title="var">Base</span> <span class="id" title="var">Base2</span> <span class="id" title="var">ChomskyInduction</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab5"></a><h1 class="section">Definitions</h1>
 In this section we define a function that creates a union-grammar out of a list of grammars. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Union.Definitions"><span class="id" title="section">Definitions</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> <a name="Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a name="Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a>: <span class="id" title="keyword">Type</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;move?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Union.grammar_to_language"><span class="id" title="definition">grammar_to_language</span></a> {<span class="id" title="var">Tt</span> <span class="id" title="var">Vl</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">g</span> : @<a class="idref" href="fl.cfg.Definitions.html#Definitions.var"><span class="id" title="inductive">var</span></a> <a class="idref" href="fl.int.Union.html#Vl"><span class="id" title="variable">Vl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">(</span></a>@<a class="idref" href="fl.cfg.Definitions.html#Definitions.grammar"><span class="id" title="definition">grammar</span></a> <a class="idref" href="fl.int.Union.html#Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Vl"><span class="id" title="variable">Vl</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">)</span></a>) : <a class="idref" href="fl.int.Base2.html#Base.language"><span class="id" title="definition">language</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">gr</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="fl.int.Union.html#g"><span class="id" title="variable">g</span></a> <span class="id" title="keyword">in</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">word</span> ⇒ <a class="idref" href="fl.cfg.Derivation.html#Derivation.der"><span class="id" title="inductive">der</span></a> <span class="id" title="var">gr</span> <span class="id" title="var">st</span> (<a class="idref" href="fl.int.Base2.html#Base.to_phrase"><span class="id" title="definition">to_phrase</span></a> <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Union.labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|  <a name="Union.start"><span class="id" title="constructor">start</span></a> : <a class="idref" href="fl.int.Union.html#labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|  <a name="Union.lV"><span class="id" title="constructor">lV</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> @<a class="idref" href="fl.cfg.Definitions.html#Definitions.var"><span class="id" title="inductive">var</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="fl.int.Union.html#labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Union.label_var"><span class="id" title="definition">label_var</span></a> (<span class="id" title="var">label</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">v</span>: @<a class="idref" href="fl.cfg.Definitions.html#Definitions.var"><span class="id" title="inductive">var</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a>): @<a class="idref" href="fl.cfg.Definitions.html#Definitions.var"><span class="id" title="inductive">var</span></a> <a class="idref" href="fl.int.Union.html#Union.labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#v"><span class="id" title="variable">v</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Union.label_symbol"><span class="id" title="definition">label_symbol</span></a> (<span class="id" title="var">label</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">s</span>: @<a class="idref" href="fl.cfg.Definitions.html#Definitions.symbol"><span class="id" title="inductive">symbol</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a>): @<a class="idref" href="fl.cfg.Definitions.html#Definitions.symbol"><span class="id" title="inductive">symbol</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="fl.int.Union.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="fl.cfg.Definitions.html#Definitions.Ts"><span class="id" title="constructor">Ts</span></a> <span class="id" title="var">t</span> ⇒ <a class="idref" href="fl.cfg.Definitions.html#Definitions.Ts"><span class="id" title="constructor">Ts</span></a> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="fl.cfg.Definitions.html#Definitions.Vs"><span class="id" title="constructor">Vs</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="fl.cfg.Definitions.html#Definitions.Vs"><span class="id" title="constructor">Vs</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <span class="id" title="var">v</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Union.label_phrase"><span class="id" title="definition">label_phrase</span></a> (<span class="id" title="var">label</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">p</span>: @<a class="idref" href="fl.cfg.Definitions.html#Definitions.phrase"><span class="id" title="definition">phrase</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a>): @<a class="idref" href="fl.cfg.Definitions.html#Definitions.phrase"><span class="id" title="definition">phrase</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_symbol"><span class="id" title="definition">label_symbol</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a>) <a class="idref" href="fl.int.Union.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Union.label_rule"><span class="id" title="definition">label_rule</span></a> (<span class="id" title="var">label</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">r</span> : @<a class="idref" href="fl.cfg.Definitions.html#Definitions.rule"><span class="id" title="inductive">rule</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a>): @<a class="idref" href="fl.cfg.Definitions.html#Definitions.rule"><span class="id" title="inductive">rule</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '(<a class="idref" href="fl.cfg.Definitions.html#Definitions.R"><span class="id" title="constructor">R</span></a> <span class="id" title="var">v</span> <span class="id" title="var">p</span>) := <a class="idref" href="fl.int.Union.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">in</span> <a class="idref" href="fl.cfg.Definitions.html#Definitions.R"><span class="id" title="constructor">R</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <span class="id" title="var">v</span>)) (<a class="idref" href="fl.int.Union.html#Union.label_phrase"><span class="id" title="definition">label_phrase</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <span class="id" title="var">p</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Union.label_grammar"><span class="id" title="definition">label_grammar</span></a> (<span class="id" title="var">label</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">g</span>: @<a class="idref" href="fl.cfg.Definitions.html#Definitions.grammar"><span class="id" title="definition">grammar</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a>): @<a class="idref" href="fl.cfg.Definitions.html#Definitions.grammar"><span class="id" title="definition">grammar</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_rule"><span class="id" title="definition">label_rule</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a>) <a class="idref" href="fl.int.Union.html#g"><span class="id" title="variable">g</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Union.label_grammar_and_add_start_rule"><span class="id" title="definition">label_grammar_and_add_start_rule</span></a> (<span class="id" title="var">label</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">g</span> : @<a class="idref" href="fl.cfg.Definitions.html#Definitions.var"><span class="id" title="inductive">var</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">(</span></a>@<a class="idref" href="fl.cfg.Definitions.html#Definitions.grammar"><span class="id" title="definition">grammar</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">)</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="fl.cfg.Definitions.html#Definitions.grammar"><span class="id" title="definition">grammar</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">gr</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="fl.int.Union.html#g"><span class="id" title="variable">g</span></a> <span class="id" title="keyword">in</span> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#d7fed0909a58e41c49e3ee117361b0a5"><span class="id" title="notation">(</span></a><a class="idref" href="fl.cfg.Definitions.html#Definitions.R"><span class="id" title="constructor">R</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> <a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">[</span></a><a class="idref" href="fl.cfg.Definitions.html#Definitions.Vs"><span class="id" title="constructor">Vs</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <span class="id" title="var">st</span>))<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">]</span></a><a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#d7fed0909a58e41c49e3ee117361b0a5"><span class="id" title="notation">)</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#d7fed0909a58e41c49e3ee117361b0a5"><span class="id" title="notation">::</span></a> <a class="idref" href="fl.int.Union.html#Union.label_grammar"><span class="id" title="definition">label_grammar</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <span class="id" title="var">gr</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Union.label_list_of_grammars"><span class="id" title="definition">label_list_of_grammars</span></a> (<span class="id" title="var">grammars</span> : <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> (@<a class="idref" href="fl.cfg.Definitions.html#Definitions.var"><span class="id" title="inductive">var</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">(</span></a>@<a class="idref" href="fl.cfg.Definitions.html#Definitions.grammar"><span class="id" title="definition">grammar</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">)</span></a>)):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="fl.cfg.Definitions.html#Definitions.grammar"><span class="id" title="definition">grammar</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">gr</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#d7fed0909a58e41c49e3ee117361b0a5"><span class="id" title="notation">::</span></a><span class="id" title="var">t</span>) ⇒ <a class="idref" href="fl.int.Union.html#Union.label_grammar"><span class="id" title="definition">label_grammar</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">gr</span> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">(</span></a><a class="idref" href="fl.int.Union.html#label_list_of_grammars"><span class="id" title="definition">label_list_of_grammars</span></a> <span class="id" title="var">t</span><a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> (<span class="id" title="var">grammars</span> : <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> (@<a class="idref" href="fl.cfg.Definitions.html#Definitions.var"><span class="id" title="inductive">var</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">(</span></a>@<a class="idref" href="fl.cfg.Definitions.html#Definitions.grammar"><span class="id" title="definition">grammar</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Vt"><span class="id" title="variable">Vt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">)</span></a>)): @<a class="idref" href="fl.cfg.Definitions.html#Definitions.grammar"><span class="id" title="definition">grammar</span></a> <a class="idref" href="fl.int.Union.html#Union.Definitions.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  (<span class="id" title="var">g</span><a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#d7fed0909a58e41c49e3ee117361b0a5"><span class="id" title="notation">::</span></a><span class="id" title="var">t</span>) ⇒ <a class="idref" href="fl.int.Union.html#Union.label_grammar_and_add_start_rule"><span class="id" title="definition">label_grammar_and_add_start_rule</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">g</span> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">(</span></a><a class="idref" href="fl.int.Union.html#grammar_union"><span class="id" title="definition">grammar_union</span></a> <span class="id" title="var">t</span><a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union.Definitions"><span class="id" title="section">Definitions</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Union.Lemmas"><span class="id" title="section">Lemmas</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab6"></a><h1 class="section">Util</h1>
 In this section we prove a few useful facts about the union-related functions. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Union.Lemmas.Util"><span class="id" title="section">Util</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">Tt</span> <span class="id" title="var">Vt</span>: <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.word_remains_terminal"><span class="id" title="lemma">word_remains_terminal</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">word</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="fl.cfg.Derivation.html#Derivation.terminal"><span class="id" title="definition">terminal</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Vt"><span class="id" title="variable">Vt</span></a> (<a class="idref" href="fl.int.Base2.html#Base.to_phrase"><span class="id" title="definition">to_phrase</span></a> <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.inner"><span class="id" title="lemma">inner</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span>: <span class="id" title="keyword">Type</span>) (<span class="id" title="var">a</span>: <a class="idref" href="fl.int.Union.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="fl.int.Union.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="fl.int.Union.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="fl.int.Union.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="fl.int.Union.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="fl.int.Union.html#w"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="fl.int.Union.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="fl.int.Union.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="fl.int.Union.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="fl.int.Union.html#w"><span class="id" title="variable">w</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.app_label_phrase"><span class="id" title="lemma">app_label_phrase</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">lphrase1</span> <span class="id" title="var">lphrase2</span>: @<a class="idref" href="fl.cfg.Definitions.html#Definitions.phrase"><span class="id" title="definition">phrase</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Tt"><span class="id" title="variable">Tt</span></a> (<a class="idref" href="fl.int.Union.html#Union.labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Vt"><span class="id" title="variable">Vt</span></a>)) (<span class="id" title="var">label</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">phrase</span>: @<a class="idref" href="fl.cfg.Definitions.html#Definitions.phrase"><span class="id" title="definition">phrase</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Vt"><span class="id" title="variable">Vt</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#lphrase1"><span class="id" title="variable">lphrase1</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="fl.int.Union.html#lphrase2"><span class="id" title="variable">lphrase2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#Union.label_phrase"><span class="id" title="definition">label_phrase</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">phrase1</span> <span class="id" title="var">phrase2</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#phrase1"><span class="id" title="variable">phrase1</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="fl.int.Union.html#phrase2"><span class="id" title="variable">phrase2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#lphrase1"><span class="id" title="variable">lphrase1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#Union.label_phrase"><span class="id" title="definition">label_phrase</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#phrase1"><span class="id" title="variable">phrase1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#lphrase2"><span class="id" title="variable">lphrase2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#Union.label_phrase"><span class="id" title="definition">label_phrase</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#phrase2"><span class="id" title="variable">phrase2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.label_phrase_for_word"><span class="id" title="lemma">label_phrase_for_word</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">label</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">word</span>: <a class="idref" href="fl.int.Base2.html#Base.word"><span class="id" title="definition">word</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="fl.int.Base2.html#Base.to_phrase"><span class="id" title="definition">to_phrase</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Tt"><span class="id" title="variable">Tt</span></a> (<a class="idref" href="fl.int.Union.html#Union.labeled_Vt"><span class="id" title="inductive">labeled_Vt</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Vt"><span class="id" title="variable">Vt</span></a>) <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#Union.label_phrase"><span class="id" title="definition">label_phrase</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> (<a class="idref" href="fl.int.Base2.html#Base.to_phrase"><span class="id" title="definition">to_phrase</span></a> <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.label_symbol_is_injective"><span class="id" title="lemma">label_symbol_is_injective</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">label</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">s1</span> <span class="id" title="var">s2</span>: @<a class="idref" href="fl.cfg.Definitions.html#Definitions.symbol"><span class="id" title="inductive">symbol</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Vt"><span class="id" title="variable">Vt</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.label_symbol"><span class="id" title="definition">label_symbol</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#Union.label_symbol"><span class="id" title="definition">label_symbol</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#s2"><span class="id" title="variable">s2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.label_app"><span class="id" title="lemma">label_app</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">label</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>: @<a class="idref" href="fl.cfg.Definitions.html#Definitions.phrase"><span class="id" title="definition">phrase</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util.Vt"><span class="id" title="variable">Vt</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.label_phrase"><span class="id" title="definition">label_phrase</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> (<a class="idref" href="fl.int.Union.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="fl.int.Union.html#p2"><span class="id" title="variable">p2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#Union.label_phrase"><span class="id" title="definition">label_phrase</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="fl.int.Union.html#Union.label_phrase"><span class="id" title="definition">label_phrase</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#p2"><span class="id" title="variable">p2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Util"><span class="id" title="section">Util</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab7"></a><h1 class="section">Forward</h1>
 In this section we prove that derivability in one grammar from the
        list implies derivability in the union-grammar. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Let&nbsp;Tt&nbsp;Vt&nbsp;be&nbsp;types&nbsp;of&nbsp;terminals&nbsp;and&nbsp;nonterminals&nbsp;correspondingly.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Union.Lemmas.Tt"><span class="id" title="variable">Tt</span></a> <a name="Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>: <span class="id" title="keyword">Type</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;For&nbsp;simplicity,&nbsp;let's&nbsp;define&nbsp;some&nbsp;local&nbsp;names.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="Union.Lemmas.der"><span class="id" title="variable">der</span></a> := @<a class="idref" href="fl.cfg.Derivation.html#Derivation.der"><span class="id" title="inductive">der</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Tt"><span class="id" title="variable">Tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="Union.Lemmas.var"><span class="id" title="variable">var</span></a> := @<a class="idref" href="fl.cfg.Definitions.html#Definitions.var"><span class="id" title="inductive">var</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a> := @<a class="idref" href="fl.cfg.Definitions.html#Definitions.grammar"><span class="id" title="definition">grammar</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Union.Lemmas.Forward"><span class="id" title="section">Forward</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.grammar_extention"><span class="id" title="lemma">grammar_extention</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<span class="id" title="var">V</span>: <span class="id" title="keyword">Type</span>} <span class="id" title="var">grammar1</span> <span class="id" title="var">grammar2</span> <span class="id" title="var">var</span> (<span class="id" title="var">phrase</span>: @<a class="idref" href="fl.cfg.Definitions.html#Definitions.phrase"><span class="id" title="definition">phrase</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#V"><span class="id" title="variable">V</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> <a class="idref" href="fl.int.Union.html#grammar2"><span class="id" title="variable">grammar2</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a> <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#grammar1"><span class="id" title="variable">grammar1</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="fl.int.Union.html#grammar2"><span class="id" title="variable">grammar2</span></a>) <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a> <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.der_in_grammar_implies_der_in_union_grammar_1"><span class="id" title="lemma">der_in_grammar_implies_der_in_union_grammar_1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">st</span> <span class="id" title="var">grammar</span> <span class="id" title="var">var</span> <span class="id" title="var">grammars</span> <span class="id" title="var">phrase</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a> <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="fl.int.Union.html#st"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#d7fed0909a58e41c49e3ee117361b0a5"><span class="id" title="notation">::</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="fl.int.Union.html#Union.label_var"><span class="id" title="definition">label_var</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>) <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="fl.int.Union.html#Union.label_phrase"><span class="id" title="definition">label_phrase</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Tt"><span class="id" title="variable">Tt</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.der_in_grammar_implies_der_in_union_grammar_2"><span class="id" title="lemma">der_in_grammar_implies_der_in_union_grammar_2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">var</span> <span class="id" title="var">grammar</span> <span class="id" title="var">grammars</span> <span class="id" title="var">word</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.grammar_to_language"><span class="id" title="definition">grammar_to_language</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.grammar_to_language"><span class="id" title="definition">grammar_to_language</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="fl.int.Union.html#Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> (<span class="id" title="var">Tt</span>:=<a class="idref" href="fl.int.Union.html#Union.Lemmas.Tt"><span class="id" title="variable">Tt</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#d7fed0909a58e41c49e3ee117361b0a5"><span class="id" title="notation">::</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Now&nbsp;we&nbsp;can&nbsp;use&nbsp;two&nbsp;lemmas&nbsp;above&nbsp;to&nbsp;get&nbsp;the&nbsp;proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1)&nbsp;We&nbsp;use&nbsp;induction&nbsp;by&nbsp;(list&nbsp;of)&nbsp;grammars.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(2)&nbsp;"Base"&nbsp;case&nbsp;is&nbsp;trivial.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(3)&nbsp;"Step"&nbsp;case&nbsp;splits&nbsp;into&nbsp;two&nbsp;subcases:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a)&nbsp;Case&nbsp;where&nbsp;we&nbsp;can&nbsp;use&nbsp;der_in_grammar_implies_der_in_union_grammar_2&nbsp;lemma<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b)&nbsp;Case&nbsp;where&nbsp;we&nbsp;can&nbsp;just&nbsp;use&nbsp;inductive&nbsp;hypothesis.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.same_union_forward"><span class="id" title="lemma">same_union_forward</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">grammars</span>: <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> (<a class="idref" href="fl.int.Union.html#Union.Lemmas.var"><span class="id" title="variable">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>)) <span class="id" title="var">word</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Base2.html#Base.language_list_union"><span class="id" title="definition">language_list_union</span></a> (<a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="fl.int.Union.html#Union.grammar_to_language"><span class="id" title="definition">grammar_to_language</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>) <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.grammar_to_language"><span class="id" title="definition">grammar_to_language</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="fl.int.Union.html#Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Forward"><span class="id" title="section">Forward</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab8"></a><h1 class="section">Backward</h1>
 In this section we prove that derivability in the union-grammar implies 
        derivability in one of the grammar from the list. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Union.Lemmas.Backward"><span class="id" title="section">Backward</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;In&nbsp;this&nbsp;section&nbsp;we&nbsp;prove&nbsp;several&nbsp;obvious&nbsp;properties&nbsp;of&nbsp;the&nbsp;updated&nbsp;grammar.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Union.Lemmas.Backward.GeneralFacts"><span class="id" title="section">GeneralFacts</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Union.Lemmas.Backward.GeneralFacts.grammars"><span class="id" title="variable">grammars</span></a>: <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> (<a class="idref" href="fl.int.Union.html#Union.Lemmas.var"><span class="id" title="variable">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.der_in_union_simpl_grammar_implies_der_in_union_grammar"><span class="id" title="lemma">der_in_union_simpl_grammar_implies_der_in_union_grammar</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">var</span> <span class="id" title="var">phrase</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_list_of_grammars"><span class="id" title="definition">label_list_of_grammars</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Backward.GeneralFacts.grammars"><span class="id" title="variable">grammars</span></a>) <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a> <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Backward.GeneralFacts.grammars"><span class="id" title="variable">grammars</span></a>) <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a> <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.updated_derivation_doesnot_contain_start_symbol"><span class="id" title="lemma">updated_derivation_doesnot_contain_start_symbol</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">label</span> <span class="id" title="var">var</span> <span class="id" title="var">phrase</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Backward.GeneralFacts.grammars"><span class="id" title="variable">grammars</span></a>) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.Vs"><span class="id" title="constructor">Vs</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>))) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.derivability_without_start_rules"><span class="id" title="lemma">derivability_without_start_rules</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">var</span> <span class="id" title="var">phrase</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Backward.GeneralFacts.grammars"><span class="id" title="variable">grammars</span></a>) <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a> <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_list_of_grammars"><span class="id" title="definition">label_list_of_grammars</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Backward.GeneralFacts.grammars"><span class="id" title="variable">grammars</span></a>) <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a> <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.simpl_updated_derivation_doesnot_contain_start_symbol"><span class="id" title="lemma">simpl_updated_derivation_doesnot_contain_start_symbol</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">label</span> <span class="id" title="var">var</span> <span class="id" title="var">phrase</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_list_of_grammars"><span class="id" title="definition">label_list_of_grammars</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Backward.GeneralFacts.grammars"><span class="id" title="variable">grammars</span></a>) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.Vs"><span class="id" title="constructor">Vs</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>))) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Backward.GeneralFacts"><span class="id" title="section">GeneralFacts</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;In&nbsp;this&nbsp;section&nbsp;we&nbsp;prove&nbsp;that&nbsp;the&nbsp;derivability&nbsp;of&nbsp;a&nbsp;word&nbsp;in&nbsp;some&nbsp;_labeled_&nbsp;grammar<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implies&nbsp;that&nbsp;the&nbsp;word&nbsp;belongs&nbsp;to&nbsp;the&nbsp;union-language&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Union.Lemmas.Backward.DerivabilityInUnionGrammar"><span class="id" title="section">DerivabilityInUnionGrammar</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.start_nonterminal_is_not_derivable_in_labeled_grammar"><span class="id" title="lemma">start_nonterminal_is_not_derivable_in_labeled_grammar</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">grammar</span> <span class="id" title="var">label1</span> <span class="id" title="var">label2</span> <span class="id" title="var">var</span> <span class="id" title="var">word1</span> <span class="id" title="var">word2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_grammar"><span class="id" title="definition">label_grammar</span></a> <a class="idref" href="fl.int.Union.html#label1"><span class="id" title="variable">label1</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label2"><span class="id" title="variable">label2</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) (<a class="idref" href="fl.int.Union.html#word1"><span class="id" title="variable">word1</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">[</span></a><a class="idref" href="fl.cfg.Definitions.html#Definitions.Vs"><span class="id" title="constructor">Vs</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">]</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="fl.int.Union.html#word2"><span class="id" title="variable">word2</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.labels_in_derivation_are_consistent"><span class="id" title="lemma">labels_in_derivation_are_consistent</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">grammar</span>: <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>) <span class="id" title="var">label</span> <span class="id" title="var">var</span> <span class="id" title="var">phrase</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_grammar"><span class="id" title="definition">label_grammar</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a>) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">label'</span> <span class="id" title="var">var'</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.Vs"><span class="id" title="constructor">Vs</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label'"><span class="id" title="variable">label'</span></a> <a class="idref" href="fl.int.Union.html#var'"><span class="id" title="variable">var'</span></a>))) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#label'"><span class="id" title="variable">label'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.update_grammar_simpl_is_injective"><span class="id" title="lemma">update_grammar_simpl_is_injective</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">grammar</span>: <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>) <span class="id" title="var">var</span> <span class="id" title="var">label</span> <span class="id" title="var">phrase</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_grammar"><span class="id" title="definition">label_grammar</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a>) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) (<a class="idref" href="fl.int.Union.html#Union.label_phrase"><span class="id" title="definition">label_phrase</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a> <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.derivability_in_grammar_implies_derivability_in_union_grammar"><span class="id" title="lemma">derivability_in_grammar_implies_derivability_in_union_grammar</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">grammars</span>: <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> (<a class="idref" href="fl.int.Union.html#Union.Lemmas.var"><span class="id" title="variable">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>)) <span class="id" title="var">grammar</span> <span class="id" title="var">start</span> <span class="id" title="var">label</span> <span class="id" title="var">word</span>,           <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="fl.int.Union.html#start"><span class="id" title="variable">start</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_grammar"><span class="id" title="definition">label_grammar</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a>) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#start"><span class="id" title="variable">start</span></a>)) (<a class="idref" href="fl.int.Base2.html#Base.to_phrase"><span class="id" title="definition">to_phrase</span></a> <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Base2.html#Base.language_list_union"><span class="id" title="definition">language_list_union</span></a> (<a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="fl.int.Union.html#Union.grammar_to_language"><span class="id" title="definition">grammar_to_language</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>) <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Backward.DerivabilityInUnionGrammar"><span class="id" title="section">DerivabilityInUnionGrammar</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Suppose&nbsp;we&nbsp;have&nbsp;a&nbsp;phrase&nbsp;that&nbsp;we&nbsp;derived&nbsp;in&nbsp;a&nbsp;union-grammar.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;this&nbsp;section&nbsp;we&nbsp;prove&nbsp;that&nbsp;there&nbsp;are&nbsp;only&nbsp;two&nbsp;options&nbsp;(1)&nbsp;either&nbsp;it&nbsp;is&nbsp;the&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;starting&nbsp;nonterminal,&nbsp;or&nbsp;(2)&nbsp;we&nbsp;can&nbsp;choose&nbsp;a&nbsp;grammar&nbsp;from&nbsp;the&nbsp;union-list&nbsp;in&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;derive&nbsp;this&nbsp;phrase.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Union.Lemmas.Backward.ChooseGrammarWithCorrectLabel"><span class="id" title="section">ChooseGrammarWithCorrectLabel</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.choose_labeled_grammar"><span class="id" title="lemma">choose_labeled_grammar</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">grammars</span>: <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> (<a class="idref" href="fl.int.Union.html#Union.Lemmas.var"><span class="id" title="variable">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>)) <span class="id" title="var">phrase</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>)) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">[</span></a><a class="idref" href="fl.cfg.Definitions.html#Definitions.Vs"><span class="id" title="constructor">Vs</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">grammar</span> <span class="id" title="var">var</span> <span class="id" title="var">grammars1</span> <span class="id" title="var">grammars2</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="fl.int.Union.html#grammars1"><span class="id" title="variable">grammars1</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#d7fed0909a58e41c49e3ee117361b0a5"><span class="id" title="notation">::</span></a> <a class="idref" href="fl.int.Union.html#grammars2"><span class="id" title="variable">grammars2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="fl.int.Union.html#grammars2"><span class="id" title="variable">grammars2</span></a>) <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Backward.ChooseGrammarWithCorrectLabel"><span class="id" title="section">ChooseGrammarWithCorrectLabel</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;In&nbsp;this&nbsp;section&nbsp;we&nbsp;prove&nbsp;that&nbsp;we&nbsp;can&nbsp;remove&nbsp;all&nbsp;grammars&nbsp;with&nbsp;"wrong"&nbsp;label.&nbsp;In&nbsp;other&nbsp;words,&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;we&nbsp;have&nbsp;a&nbsp;labeled&nbsp;nonterminal,&nbsp;it&nbsp;is&nbsp;not&nbsp;possible&nbsp;to&nbsp;derive&nbsp;something&nbsp;with&nbsp;different&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.&nbsp;So,&nbsp;we&nbsp;can&nbsp;simply&nbsp;remove&nbsp;grammars&nbsp;with&nbsp;different&nbsp;labels.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Union.Lemmas.Backward.CutGrammars"><span class="id" title="section">CutGrammars</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.labels_in_derivation_are_consistent_2"><span class="id" title="lemma">labels_in_derivation_are_consistent_2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">grammars</span>: <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> (<a class="idref" href="fl.int.Union.html#Union.Lemmas.var"><span class="id" title="variable">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>)) <span class="id" title="var">label</span> <span class="id" title="var">var</span> <span class="id" title="var">phrase</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_list_of_grammars"><span class="id" title="definition">label_list_of_grammars</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">label'</span> <span class="id" title="var">var'</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.Vs"><span class="id" title="constructor">Vs</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label'"><span class="id" title="variable">label'</span></a> <a class="idref" href="fl.int.Union.html#var'"><span class="id" title="variable">var'</span></a>))) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#label'"><span class="id" title="variable">label'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.cut_head"><span class="id" title="lemma">cut_head</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">grammar</span> <span class="id" title="var">grammars</span> <span class="id" title="var">label</span> (<span class="id" title="var">var</span>: <a class="idref" href="fl.int.Union.html#Union.Lemmas.var"><span class="id" title="variable">var</span></a>) <span class="id" title="var">phrase</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_list_of_grammars"><span class="id" title="definition">label_list_of_grammars</span></a> (<a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a><a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#d7fed0909a58e41c49e3ee117361b0a5"><span class="id" title="notation">::</span></a><a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>)) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_list_of_grammars"><span class="id" title="definition">label_list_of_grammars</span></a>           <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>)  (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.label_is_bounded_by_grammar_union_length"><span class="id" title="lemma">label_is_bounded_by_grammar_union_length</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">grammars</span>: <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> (<a class="idref" href="fl.int.Union.html#Union.Lemmas.var"><span class="id" title="variable">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>)) <span class="id" title="var">label</span> <span class="id" title="var">var</span> <span class="id" title="var">phrase</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.ssrnat.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.R"><span class="id" title="constructor">R</span></a> (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>) (<a class="idref" href="fl.int.Union.html#Union.label_list_of_grammars"><span class="id" title="definition">label_list_of_grammars</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.cut_tail"><span class="id" title="lemma">cut_tail</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">grammar</span>: <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>) <span class="id" title="var">grammars</span> <span class="id" title="var">label</span> <span class="id" title="var">var</span> <span class="id" title="var">v</span> <span class="id" title="var">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_list_of_grammars"><span class="id" title="definition">label_list_of_grammars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#d7fed0909a58e41c49e3ee117361b0a5"><span class="id" title="notation">::</span></a><a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>)) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#v"><span class="id" title="variable">v</span></a>)) <a class="idref" href="fl.int.Union.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_grammar"><span class="id" title="definition">label_grammar</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a>) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#v"><span class="id" title="variable">v</span></a>)) <a class="idref" href="fl.int.Union.html#p"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.cut_grammar"><span class="id" title="lemma">cut_grammar</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">grammar</span>: <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>) <span class="id" title="var">grammars1</span> <span class="id" title="var">grammars2</span> <span class="id" title="var">label</span> <span class="id" title="var">var</span> <span class="id" title="var">phrase</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="fl.int.Union.html#grammars2"><span class="id" title="variable">grammars2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_list_of_grammars"><span class="id" title="definition">label_list_of_grammars</span></a> (<a class="idref" href="fl.int.Union.html#grammars1"><span class="id" title="variable">grammars1</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">]</span></a> <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#2ac9001c05ad5bd2f6d5f68e59f48fbb"><span class="id" title="notation">++</span></a> <a class="idref" href="fl.int.Union.html#grammars2"><span class="id" title="variable">grammars2</span></a>)) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.Lemmas.der"><span class="id" title="variable">der</span></a> (<a class="idref" href="fl.int.Union.html#Union.label_grammar"><span class="id" title="definition">label_grammar</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#grammar"><span class="id" title="variable">grammar</span></a>) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.lV"><span class="id" title="constructor">lV</span></a> <a class="idref" href="fl.int.Union.html#label"><span class="id" title="variable">label</span></a> <a class="idref" href="fl.int.Union.html#var"><span class="id" title="variable">var</span></a>)) <a class="idref" href="fl.int.Union.html#phrase"><span class="id" title="variable">phrase</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Backward.CutGrammars"><span class="id" title="section">CutGrammars</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Now&nbsp;we&nbsp;can&nbsp;use&nbsp;all&nbsp;the&nbsp;lemmas&nbsp;above&nbsp;to&nbsp;get&nbsp;the&nbsp;proof.&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1)&nbsp;We&nbsp;use&nbsp;choose_labeled_grammar&nbsp;lemma&nbsp;to&nbsp;make&nbsp;step&nbsp;into&nbsp;the&nbsp;correct&nbsp;grammar&nbsp;of&nbsp;the&nbsp;union-grammar<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(2)&nbsp;Next,&nbsp;lemma&nbsp;derivability_without_start_rules&nbsp;which&nbsp;states&nbsp;that&nbsp;we&nbsp;can&nbsp;make&nbsp;drop&nbsp;all&nbsp;the&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rules&nbsp;that&nbsp;lead&nbsp;from&nbsp;the&nbsp;starting&nbsp;nonterminal&nbsp;to&nbsp;the&nbsp;other&nbsp;grammars<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(3)&nbsp;Next,&nbsp;we&nbsp;can&nbsp;use&nbsp;the&nbsp;cut_grammar&nbsp;lemma&nbsp;to&nbsp;get&nbsp;rid&nbsp;of&nbsp;grammars&nbsp;with&nbsp;the&nbsp;wrong&nbsp;label<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(4)&nbsp;And&nbsp;finally,&nbsp;we&nbsp;apply&nbsp;derivability_in_grammar_implies_derivability_in_union_grammar&nbsp;lemma<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;"unlabel"&nbsp;the&nbsp;resulting&nbsp;grammar.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Union.same_union_backward"><span class="id" title="lemma">same_union_backward</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">grammars</span>: <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> (<a class="idref" href="fl.int.Union.html#Union.Lemmas.var"><span class="id" title="variable">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>)) <span class="id" title="var">word</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Union.html#Union.grammar_to_language"><span class="id" title="definition">grammar_to_language</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="fl.int.Union.html#Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Base2.html#Base.language_list_union"><span class="id" title="definition">language_list_union</span></a> (<a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="fl.int.Union.html#Union.grammar_to_language"><span class="id" title="definition">grammar_to_language</span></a> <a class="idref" href="fl.int.Union.html#grammars"><span class="id" title="variable">grammars</span></a>) <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Backward"><span class="id" title="section">Backward</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab9"></a><h1 class="section">Main Theorem</h1>
 In this section we prove the equivalence in two formulations. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Union.Lemmas.MainTheorem1"><span class="id" title="section">MainTheorem1</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Union.Lemmas.MainTheorem1.grammars"><span class="id" title="variable">grammars</span></a>: <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> (<a class="idref" href="fl.int.Union.html#Union.Lemmas.var"><span class="id" title="variable">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="Union.Lemmas.MainTheorem1.l1"><span class="id" title="variable">l1</span></a> := <a class="idref" href="fl.int.Base2.html#Base.language_list_union"><span class="id" title="definition">language_list_union</span></a> (<a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="fl.int.Union.html#Union.grammar_to_language"><span class="id" title="definition">grammar_to_language</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.MainTheorem1.grammars"><span class="id" title="variable">grammars</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="Union.Lemmas.MainTheorem1.l2"><span class="id" title="variable">l2</span></a> := <a class="idref" href="fl.int.Union.html#Union.grammar_to_language"><span class="id" title="definition">grammar_to_language</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="fl.int.Union.html#Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.MainTheorem1.grammars"><span class="id" title="variable">grammars</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="Union.correct_union_1"><span class="id" title="lemma">correct_union_1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.int.Base2.html#Base.language_eq"><span class="id" title="definition">language_eq</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.MainTheorem1.l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.MainTheorem1.l2"><span class="id" title="variable">l2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union.Lemmas.MainTheorem1"><span class="id" title="section">MainTheorem1</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Union.Lemmas.MainTheorem2"><span class="id" title="section">MainTheorem2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Union.Lemmas.MainTheorem2.grammars"><span class="id" title="variable">grammars</span></a>: <a class="idref" href="https://math-comp.github.io/math-comp/htmldoc/mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> (<a class="idref" href="fl.int.Union.html#Union.Lemmas.var"><span class="id" title="variable">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.grammar"><span class="id" title="variable">grammar</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="Union.correct_union_2"><span class="id" title="lemma">correct_union_2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">word</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="fl.cfg.Derivation.html#Derivation.language"><span class="id" title="definition">Derivation.language</span></a> (<a class="idref" href="fl.int.Union.html#Union.grammar_union"><span class="id" title="definition">grammar_union</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.MainTheorem2.grammars"><span class="id" title="variable">grammars</span></a>) (<a class="idref" href="fl.cfg.Definitions.html#Definitions.V"><span class="id" title="constructor">V</span></a> (<a class="idref" href="fl.int.Union.html#Union.start"><span class="id" title="constructor">start</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.Vt"><span class="id" title="variable">Vt</span></a>)) (<a class="idref" href="fl.int.Base2.html#Base.to_phrase"><span class="id" title="definition">to_phrase</span></a> <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">s_l</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="fl.cfg.Derivation.html#Derivation.language"><span class="id" title="definition">Derivation.language</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="fl.int.Union.html#s_l"><span class="id" title="variable">s_l</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="fl.int.Union.html#s_l"><span class="id" title="variable">s_l</span></a>) (<a class="idref" href="fl.int.Base2.html#Base.to_phrase"><span class="id" title="definition">to_phrase</span></a> <a class="idref" href="fl.int.Union.html#word"><span class="id" title="variable">word</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl1/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="fl.int.Union.html#s_l"><span class="id" title="variable">s_l</span></a> <a class="idref" href="fl.int.Union.html#Union.Lemmas.MainTheorem2.grammars"><span class="id" title="variable">grammars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union.Lemmas.MainTheorem2"><span class="id" title="section">MainTheorem2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union.Lemmas"><span class="id" title="section">Lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="fl.int.Union.html#Union"><span class="id" title="module">Union</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>